<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 1754.77px; background-color: white;" viewBox="0 -50 1754.76953125 1584" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .problem&gt;*{fill:#ffcccc!important;stroke:#cc0000!important;stroke-width:2px!important;}#my-svg .problem span{fill:#ffcccc!important;stroke:#cc0000!important;stroke-width:2px!important;}#my-svg .current&gt;*{fill:#fff3cd!important;stroke:#856404!important;stroke-width:2px!important;}#my-svg .current span{fill:#fff3cd!important;stroke:#856404!important;stroke-width:2px!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="root" transform="translate(0, 0)"><g class="clusters"><g class="cluster current" id="Current" data-look="classic"><rect style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:2px !important" x="8" y="8" width="1738.76953125" height="1518"/><g class="cluster-label" transform="translate(777.384765625, 8)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>‚ùå CURRENT ARCHITECTURE (PROBLEMS)</p></span></div></foreignObject></g></g><g class="cluster" id="UseMapHook" data-look="classic"><rect style="" x="28" y="45.5" width="743.0625" height="1443"/><g class="cluster-label" transform="translate(352.953125, 45.5)"><foreignObject width="93.15625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>useMap Hook</p></span></div></foreignObject></g></g><g class="cluster" id="PageTsx" data-look="classic"><rect style="" x="1101.0625" y="680" width="625.70703125" height="522"/><g class="cluster-label" transform="translate(1351.931640625, 680)"><foreignObject width="123.96875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>page.tsx (Parent)</p></span></div></foreignObject></g></g><g class="cluster" id="MapContainerComp" data-look="classic"><rect style="" x="153.171875" y="83" width="597.890625" height="498"/><g class="cluster-label" transform="translate(376.2890625, 83)"><foreignObject width="151.65625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>MapContainer (Child)</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M1408.158,855.5L1397.808,869.75C1387.458,884,1366.758,912.5,1356.408,934.333C1346.059,956.167,1346.059,971.333,1346.059,978.917L1346.059,986.5" id="L_AppController_Callbacks_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_AppController_Callbacks_0" data-points="W3sieCI6MTQwOC4xNTc2NjY1NTIxOTc3LCJ5Ijo4NTUuNX0seyJ4IjoxMzQ2LjA1ODU5Mzc1LCJ5Ijo5NDF9LHsieCI6MTM0Ni4wNTg1OTM3NSwieSI6OTkwLjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M498.011,270.5L496.028,278.75C494.046,287,490.082,303.5,488.099,321.333C486.117,339.167,486.117,358.333,486.117,367.917L486.117,377.5" id="L_MapEvents_CallbacksFromMap_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_MapEvents_CallbacksFromMap_0" data-points="W3sieCI6NDk4LjAxMDczMDQyMTY4NjczLCJ5IjoyNzAuNX0seyJ4Ijo0ODYuMTE3MTg3NSwieSI6MzIwfSx7IngiOjQ4Ni4xMTcxODc1LCJ5IjozODEuNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M141.836,1116.5L141.836,1130.75C141.836,1145,141.836,1173.5,141.836,1196C141.836,1218.5,141.836,1235,144.686,1250.876C147.536,1266.751,153.236,1282.002,156.086,1289.628L158.936,1297.253" id="L_SetViewport_MapState_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_SetViewport_MapState_0" data-points="W3sieCI6MTQxLjgzNTkzNzUsInkiOjExMTYuNX0seyJ4IjoxNDEuODM1OTM3NSwieSI6MTIwMn0seyJ4IjoxNDEuODM1OTM3NSwieSI6MTI1MS41fSx7IngiOjE2MC4zMzYzMTQwMDYwMjQxLCJ5IjoxMzAxfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M557.696,531.5L565.569,539.75C573.443,548,589.19,564.5,597.064,581C604.938,597.5,604.938,614,604.938,630.5C604.938,647,604.938,663.5,729.018,690.135C853.099,716.77,1101.261,753.539,1225.341,771.924L1349.422,790.309" id="L_CallbacksFromMap_AppController_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CallbacksFromMap_AppController_0" data-points="W3sieCI6NTU3LjY5NTY4OTAwNjAyNCwieSI6NTMxLjV9LHsieCI6NjA0LjkzNzUsInkiOjU4MX0seyJ4Ijo2MDQuOTM3NSwieSI6NjMwLjV9LHsieCI6NjA0LjkzNzUsInkiOjY4MH0seyJ4IjoxMzUzLjM3ODkwNjI1LCJ5Ijo3OTAuODk1MTU2ODI4OTI3fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1353.379,854.033L1326.51,868.528C1299.642,883.022,1245.905,912.011,1057.782,947.462C869.658,982.913,547.148,1024.826,385.893,1045.783L224.639,1066.739" id="L_AppController_SetViewport_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_AppController_SetViewport_0" data-points="W3sieCI6MTM1My4zNzg5MDYyNSwieSI6ODU0LjAzMzI5OTM3MDEzNzF9LHsieCI6MTE5Mi4xNjc5Njg3NSwieSI6OTQxfSx7IngiOjIyMC42NzE4NzUsInkiOjEwNjcuMjU0NTY3OTM3OTY2fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1482.241,855.5L1492.591,869.75C1502.94,884,1523.64,912.5,1533.99,949.5C1544.34,986.5,1544.34,1032,1544.34,1075.5C1544.34,1119,1544.34,1160.5,1320.764,1189.5C1097.189,1218.5,650.038,1235,425.577,1250.838C201.117,1266.676,199.347,1281.851,198.462,1289.439L197.577,1297.027" id="L_AppController_MapState_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_AppController_MapState_0" data-points="W3sieCI6MTQ4Mi4yNDA3NzA5NDc4MDIzLCJ5Ijo4NTUuNX0seyJ4IjoxNTQ0LjMzOTg0Mzc1LCJ5Ijo5NDF9LHsieCI6MTU0NC4zMzk4NDM3NSwieSI6MTA3Ny41fSx7IngiOjE1NDQuMzM5ODQzNzUsInkiOjEyMDJ9LHsieCI6MjAyLjg4NjcxODc1LCJ5IjoxMjUxLjV9LHsieCI6MTk3LjExMzg5MzA3MjI4OTE2LCJ5IjoxMzAxfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M209.162,1301L211.45,1292.75C213.737,1284.5,218.312,1268,460,1251.5C701.689,1235,1180.491,1218.5,1419.892,1189.5C1659.293,1160.5,1659.293,1119,1659.293,1075.5C1659.293,1032,1659.293,986.5,1637.505,949.858C1615.716,913.217,1572.14,885.434,1550.351,871.542L1528.563,857.65" id="L_MapState_AppController_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_MapState_AppController_0" data-points="W3sieCI6MjA5LjE2MjA4NTg0MzM3MzUsInkiOjEzMDF9LHsieCI6MjIyLjg4NjcxODc1LCJ5IjoxMjUxLjV9LHsieCI6MTY1OS4yOTI5Njg3NSwieSI6MTIwMn0seyJ4IjoxNjU5LjI5Mjk2ODc1LCJ5IjoxMDc3LjV9LHsieCI6MTY1OS4yOTI5Njg3NSwieSI6OTQxfSx7IngiOjE1MjUuMTkwMjkwMTc4NTcxMywieSI6ODU1LjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M455.373,531.5L451.991,539.75C448.609,548,441.846,564.5,438.464,581C435.082,597.5,435.082,614,435.082,630.5C435.082,647,435.082,663.5,496.265,686.955C557.448,710.41,679.814,740.819,740.997,756.024L802.181,771.229" id="L_CallbacksFromMap_Problem2_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CallbacksFromMap_Problem2_0" data-points="W3sieCI6NDU1LjM3MzExNzQ2OTg3OTUsInkiOjUzMS41fSx7IngiOjQzNS4wODIwMzEyNSwieSI6NTgxfSx7IngiOjQzNS4wODIwMzEyNSwieSI6NjMwLjV9LHsieCI6NDM1LjA4MjAzMTI1LCJ5Ijo2ODB9LHsieCI6ODA2LjA2MjUsInkiOjc3Mi4xOTMzNTEzMTg4OTgxfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M551.065,270.5L554.919,278.75C558.773,287,566.48,303.5,611.296,326.482C656.111,349.464,738.035,378.928,778.997,393.66L819.959,408.392" id="L_MapEvents_Problem4_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_MapEvents_Problem4_0" data-points="W3sieCI6NTUxLjA2NTEzNTU0MjE2ODcsInkiOjI3MC41fSx7IngiOjU3NC4xODc1LCJ5IjozMjB9LHsieCI6ODIzLjcyMjY1NjI1LCJ5Ijo0MDkuNzQ1NDM3OTg0Mzc2NDV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M228.912,1301L233.372,1292.75C237.832,1284.5,246.752,1268,251.212,1251.5C255.672,1235,255.672,1218.5,255.672,1189.5C255.672,1160.5,255.672,1119,255.672,1075.5C255.672,1032,255.672,986.5,255.672,941C255.672,895.5,255.672,850,255.672,806.5C255.672,763,255.672,721.5,255.672,692.5C255.672,663.5,255.672,647,255.672,631.167C255.672,615.333,255.672,600.167,255.672,592.583L255.672,585" id="L_MapState_MapContainerComp_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_MapState_MapContainerComp_0" data-points="W3sieCI6MjI4LjkxMjE3OTk2OTg3OTUsInkiOjEzMDF9LHsieCI6MjU1LjY3MTg3NSwieSI6MTI1MS41fSx7IngiOjI1NS42NzE4NzUsInkiOjEyMDJ9LHsieCI6MjU1LjY3MTg3NSwieSI6MTA3Ny41fSx7IngiOjI1NS42NzE4NzUsInkiOjk0MX0seyJ4IjoyNTUuNjcxODc1LCJ5Ijo4MDQuNX0seyJ4IjoyNTUuNjcxODc1LCJ5Ijo2ODB9LHsieCI6MjU1LjY3MTg3NSwieSI6NjMwLjV9LHsieCI6MjU1LjY3MTg3NSwieSI6NTgxfSx7IngiOjI1NS42NzE4NzUsInkiOjQ1Ni41fSx7IngiOjI1NS42NzE4NzUsInkiOjMyMH0seyJ4IjozODYuMDMxMjUsInkiOjI1Ny42NjQwNzYwOTY3NDEyN31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1230.254,1062.077L1078.731,1041.898C927.208,1021.718,624.163,981.359,472.64,938.43C321.117,895.5,321.117,850,321.117,806.5C321.117,763,321.117,721.5,321.117,692.5C321.117,663.5,321.117,647,321.117,631.167C321.117,615.333,321.117,600.167,321.117,592.583L321.117,585" id="L_Callbacks_MapContainerComp_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Callbacks_MapContainerComp_0" data-points="W3sieCI6MTIzMC4yNTM5MDYyNSwieSI6MTA2Mi4wNzczMjMzOTg4MjIzfSx7IngiOjMyMS4xMTcxODc1LCJ5Ijo5NDF9LHsieCI6MzIxLjExNzE4NzUsInkiOjgwNC41fSx7IngiOjMyMS4xMTcxODc1LCJ5Ijo2ODB9LHsieCI6MzIxLjExNzE4NzUsInkiOjYzMC41fSx7IngiOjMyMS4xMTcxODc1LCJ5Ijo1ODF9LHsieCI6MzIxLjExNzE4NzUsInkiOjQ1Ni41fSx7IngiOjMyMS4xMTcxODc1LCJ5IjozMjB9LHsieCI6Mzk4LjYxMzE0MDA2MDI0MSwieSI6MjcwLjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M751.063,403.87L1129.731,427.755" id="L_MapContainerComp_Problem1_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_MapContainerComp_Problem1_0" data-points="W3sieCI6NTkxLjI3NTk3ODkxNTY2MjcsInkiOjI3MC41fSx7IngiOjY0MC45Mzc1LCJ5IjozMjB9LHsieCI6MTEzMy43MjI2NTYyNSwieSI6NDI4LjAwNzAyODAzMDU4MzR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M771.063,426.021L1439.723,435.951" id="L_UseMapHook_Problem3_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_UseMapHook_Problem3_0" data-points="W3sieCI6NjMxLjQ4NjgyMjI4OTE1NjYsInkiOjI3MC41fSx7IngiOjcwNy42ODc1LCJ5IjozMjB9LHsieCI6MTQ0My43MjI2NTYyNSwieSI6NDM2LjAxMDA2OTY4NzE5Njk2fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(1346.05859375, 941)"><g class="label" data-id="L_AppController_Callbacks_0" transform="translate(-72.3984375, -12)"><foreignObject width="144.796875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>creates 5+ callbacks</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(486.1171875, 320)"><g class="label" data-id="L_MapEvents_CallbacksFromMap_0" transform="translate(-44.6953125, -12)"><foreignObject width="89.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>calls 3 props</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(141.8359375, 1251.5)"><g class="label" data-id="L_SetViewport_MapState_0" transform="translate(-28.265625, -12)"><foreignObject width="56.53125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>updates</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(604.9375, 630.5)"><g class="label" data-id="L_CallbacksFromMap_AppController_0" transform="translate(-27.3046875, -12)"><foreignObject width="54.609375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>triggers</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(797.24243, 992.32409)"><g class="label" data-id="L_AppController_SetViewport_0" transform="translate(-61.4921875, -12)"><foreignObject width="122.984375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>calls setViewport</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1544.33984375, 1077.5)"><g class="label" data-id="L_AppController_MapState_0" transform="translate(-47.4765625, -12)"><foreignObject width="94.953125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>‚ö†Ô∏è CIRCULAR</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1659.29296875, 1077.5)"><g class="label" data-id="L_MapState_AppController_0" transform="translate(-47.4765625, -12)"><foreignObject width="94.953125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>‚ö†Ô∏è CIRCULAR</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(435.08203125, 630.5)"><g class="label" data-id="L_CallbacksFromMap_Problem2_0" transform="translate(-23.375, -12)"><foreignObject width="46.75" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>causes</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(673.24991, 355.62784)"><g class="label" data-id="L_MapEvents_Problem4_0" transform="translate(-23.375, -12)"><foreignObject width="46.75" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>causes</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(255.67188, 944.38508)"><g class="label" data-id="L_MapState_MapContainerComp_0" transform="translate(-45.4453125, -12)"><foreignObject width="90.890625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>passed down</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(597.2609, 977.77636)"><g class="label" data-id="L_Callbacks_MapContainerComp_0" transform="translate(-19.5546875, -12)"><foreignObject width="39.109375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>props</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(942.39258, 415.93861)"><g class="label" data-id="L_MapContainerComp_Problem1_0" transform="translate(-23.375, -12)"><foreignObject width="46.75" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>causes</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1107.39258, 431.01565)"><g class="label" data-id="L_UseMapHook_Problem3_0" transform="translate(-23.375, -12)"><foreignObject width="46.75" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>causes</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-MapEvents-4" transform="translate(516.03125, 195.5)"><rect class="basic label-container" style="" x="-130" y="-75" width="260" height="150"/><g class="label" style="" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Map Events:<br />‚Ä¢ onMove ‚Üí handleViewportChange<br />‚Ä¢ onLoad ‚Üí handleMapLoad</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-AppController-0" transform="translate(1445.19921875, 804.5)"><rect class="basic label-container" style="" x="-91.8203125" y="-51" width="183.640625" height="102"/><g class="label" style="" transform="translate(-61.8203125, -36)"><rect/><foreignObject width="123.640625" height="72"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>useAppController<br />‚Ä¢ Owns all state<br />‚Ä¢ 550 lines</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Callbacks-2" transform="translate(1346.05859375, 1077.5)"><rect class="basic label-container" style="" x="-115.8046875" y="-87" width="231.609375" height="174"/><g class="label" style="" transform="translate(-85.8046875, -72)"><rect/><foreignObject width="171.609375" height="144"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Callback Props:<br />‚Ä¢ onViewportChange<br />‚Ä¢ onBoundsChange<br />‚Ä¢ onWidthHeightChange<br />‚Ä¢ onMarkerSelect<br />‚Ä¢ onEventSelect</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-CallbacksFromMap-6" transform="translate(486.1171875, 456.5)"><rect class="basic label-container" style="" x="-130" y="-75" width="260" height="150"/><g class="label" style="" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Calls back to parent:<br />1. onViewportChange<br />2. onWidthHeightChange<br />3. onBoundsChange (debounced)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-SetViewport-8" transform="translate(141.8359375, 1077.5)"><rect class="basic label-container" style="" x="-78.8359375" y="-39" width="157.671875" height="78"/><g class="label" style="" transform="translate(-48.8359375, -24)"><rect/><foreignObject width="97.671875" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>setViewport()<br />from parent</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-MapState-7" transform="translate(188.3671875, 1376)"><rect class="basic label-container" style="" x="-98.0625" y="-75" width="196.125" height="150"/><g class="label" style="" transform="translate(-68.0625, -60)"><rect/><foreignObject width="136.125" height="120"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>mapState:<br />‚Ä¢ viewport<br />‚Ä¢ bounds<br />‚Ä¢ markers<br />‚Ä¢ selectedMarkerId</p></span></div></foreignObject></g></g><g class="node default problem" id="flowchart-Problem2-24" transform="translate(936.0625, 804.5)"><rect class="basic label-container" style="fill:#ffcccc !important;stroke:#cc0000 !important;stroke-width:2px !important" x="-130" y="-87" width="260" height="174"/><g class="label" style="" transform="translate(-100, -72)"><rect/><foreignObject width="200" height="144"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>PROBLEM 2: Debounce Complexity<br />500ms delay ‚Üí race conditions<br />viewport ‚â† bounds temporarily</p></span></div></foreignObject></g></g><g class="node default problem" id="flowchart-Problem4-26" transform="translate(953.72265625, 456.5)"><rect class="basic label-container" style="fill:#ffcccc !important;stroke:#cc0000 !important;stroke-width:2px !important" x="-130" y="-87" width="260" height="174"/><g class="label" style="" transform="translate(-100, -72)"><rect/><foreignObject width="200" height="144"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>PROBLEM 4: Multiple Responsibilities<br />MapContainer does: events, dimensions,<br />viewport, bounds management</p></span></div></foreignObject></g></g><g class="node default problem" id="flowchart-Problem1-23" transform="translate(1263.72265625, 456.5)"><rect class="basic label-container" style="fill:#ffcccc !important;stroke:#cc0000 !important;stroke-width:2px !important" x="-130" y="-63" width="260" height="126"/><g class="label" style="" transform="translate(-100, -48)"><rect/><foreignObject width="200" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>PROBLEM 1: Callback Hell<br />3-4 level deep callback chains<br />Hard to trace data flow</p></span></div></foreignObject></g></g><g class="node default problem" id="flowchart-Problem3-25" transform="translate(1573.72265625, 456.5)"><rect class="basic label-container" style="fill:#ffcccc !important;stroke:#cc0000 !important;stroke-width:2px !important" x="-130" y="-87" width="260" height="174"/><g class="label" style="" transform="translate(-100, -72)"><rect/><foreignObject width="200" height="144"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>PROBLEM 3: Circular Dependencies<br />useMap depends on parent callbacks<br />parent depends on useMap state</p></span></div></foreignObject></g></g></g></g></g></g></g><text text-anchor="middle" x="877.384765625" y="-25" class="flowchartTitleText">CURRENT ARCHITECTURE: Complex Callback Chains &amp; Circular Dependencies</text></svg>