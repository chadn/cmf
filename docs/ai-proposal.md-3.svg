<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 801.18px; background-color: white;" viewBox="0 -50 801.1796875 5538" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .problem&gt;*{fill:#ffcccc!important;stroke:#cc0000!important;stroke-width:2px!important;}#my-svg .problem span{fill:#ffcccc!important;stroke:#cc0000!important;stroke-width:2px!important;}#my-svg .benefit&gt;*{fill:#ccffcc!important;stroke:#00cc00!important;stroke-width:2px!important;}#my-svg .benefit span{fill:#ccffcc!important;stroke:#00cc00!important;stroke-width:2px!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="root" transform="translate(227.58984375, 0)"><g class="clusters"><g class="cluster" id="EventClickProposed" data-look="classic"><rect style="" x="8" y="8" width="330" height="1095"/><g class="cluster-label" transform="translate(77.8984375, 8)"><foreignObject width="190.203125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>✅ PROPOSED: Event Click</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M173,99.5L173,105.75C173,112,173,124.5,173,136.333C173,148.167,173,159.333,173,164.917L173,170.5" id="L_EP1_EP2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_EP1_EP2_0" data-points="W3sieCI6MTczLCJ5Ijo5OS41fSx7IngiOjE3MywieSI6MTM3fSx7IngiOjE3MywieSI6MTc0LjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M173,252.5L173,258.75C173,265,173,277.5,173,289.333C173,301.167,173,312.333,173,317.917L173,323.5" id="L_EP2_EP3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_EP2_EP3_0" data-points="W3sieCI6MTczLCJ5IjoyNTIuNX0seyJ4IjoxNzMsInkiOjI5MH0seyJ4IjoxNzMsInkiOjMyNy41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M173,405.5L173,411.75C173,418,173,430.5,173,442.333C173,454.167,173,465.333,173,470.917L173,476.5" id="L_EP3_EP4_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_EP3_EP4_0" data-points="W3sieCI6MTczLCJ5Ijo0MDUuNX0seyJ4IjoxNzMsInkiOjQ0M30seyJ4IjoxNzMsInkiOjQ4MC41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M173,582.5L173,588.75C173,595,173,607.5,173,619.333C173,631.167,173,642.333,173,647.917L173,653.5" id="L_EP4_EP5_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_EP4_EP5_0" data-points="W3sieCI6MTczLCJ5Ijo1ODIuNX0seyJ4IjoxNzMsInkiOjYyMH0seyJ4IjoxNzMsInkiOjY1Ny41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M173,711.5L173,717.75C173,724,173,736.5,173,748.333C173,760.167,173,771.333,173,776.917L173,782.5" id="L_EP5_EP6_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_EP5_EP6_0" data-points="W3sieCI6MTczLCJ5Ijo3MTEuNX0seyJ4IjoxNzMsInkiOjc0OX0seyJ4IjoxNzMsInkiOjc4Ni41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M173,840.5L173,846.75C173,853,173,865.5,173,877.333C173,889.167,173,900.333,173,905.917L173,911.5" id="L_EP6_EPBenefits_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_EP6_EPBenefits_0" data-points="W3sieCI6MTczLCJ5Ijo4NDAuNX0seyJ4IjoxNzMsInkiOjg3OH0seyJ4IjoxNzMsInkiOjkxNS41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_EP1_EP2_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_EP2_EP3_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_EP3_EP4_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_EP4_EP5_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_EP5_EP6_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_EP6_EPBenefits_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-EP1-91" transform="translate(173, 72.5)"><rect class="basic label-container" style="" x="-92.546875" y="-27" width="185.09375" height="54"/><g class="label" style="" transform="translate(-62.546875, -12)"><rect/><foreignObject width="125.09375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Click event in list</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-EP2-92" transform="translate(173, 213.5)"><rect class="basic label-container" style="" x="-111.0703125" y="-39" width="222.140625" height="78"/><g class="label" style="" transform="translate(-81.0703125, -24)"><rect/><foreignObject width="162.140625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>setSelectedEventId(id)<br />(hook state only)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-EP3-93" transform="translate(173, 366.5)"><rect class="basic label-container" style="" x="-101.5703125" y="-39" width="203.140625" height="78"/><g class="label" style="" transform="translate(-71.5703125, -24)"><rect/><foreignObject width="143.140625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>useMapSync detects<br />selection change</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-EP4-94" transform="translate(173, 531.5)"><rect class="basic label-container" style="" x="-103.5234375" y="-51" width="207.046875" height="102"/><g class="label" style="" transform="translate(-73.5234375, -36)"><rect/><foreignObject width="147.046875" height="72"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Auto-calculates:<br />• markerId<br />• viewport for event</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-EP5-95" transform="translate(173, 684.5)"><rect class="basic label-container" style="" x="-97.3515625" y="-27" width="194.703125" height="54"/><g class="label" style="" transform="translate(-67.3515625, -12)"><rect/><foreignObject width="134.703125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Updates map state</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-EP6-96" transform="translate(173, 813.5)"><rect class="basic label-container" style="" x="-65.40625" y="-27" width="130.8125" height="54"/><g class="label" style="" transform="translate(-35.40625, -12)"><rect/><foreignObject width="70.8125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Re-render</p></span></div></foreignObject></g></g><g class="node default benefit" id="flowchart-EPBenefits-107" transform="translate(173, 990.5)"><rect class="basic label-container" style="fill:#ccffcc !important;stroke:#00cc00 !important;stroke-width:2px !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>BENEFITS:<br />• 0 callbacks<br />• Single location for logic<br />• Auto-syncs map to selection</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(56.513671875, 1145)"><g class="clusters"><g class="cluster" id="EventClickCurrent" data-look="classic"><rect style="" x="8" y="8" width="672.15234375" height="1200"/><g class="cluster-label" transform="translate(253.943359375, 8)"><foreignObject width="180.265625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>❌ CURRENT: Event Click</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M283.277,99.5L283.277,105.75C283.277,112,283.277,124.5,283.277,136.333C283.277,148.167,283.277,159.333,283.277,164.917L283.277,170.5" id="L_E1_E2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E1_E2_0" data-points="W3sieCI6MjgzLjI3NzM0Mzc1LCJ5Ijo5OS41fSx7IngiOjI4My4yNzczNDM3NSwieSI6MTM3fSx7IngiOjI4My4yNzczNDM3NSwieSI6MTc0LjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M283.277,252.5L283.277,258.75C283.277,265,283.277,277.5,283.277,289.333C283.277,301.167,283.277,312.333,283.277,317.917L283.277,323.5" id="L_E2_E3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E2_E3_0" data-points="W3sieCI6MjgzLjI3NzM0Mzc1LCJ5IjoyNTIuNX0seyJ4IjoyODMuMjc3MzQzNzUsInkiOjI5MH0seyJ4IjoyODMuMjc3MzQzNzUsInkiOjMyNy41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M216.407,405.5L205.691,411.75C194.975,418,173.542,430.5,162.826,442.333C152.109,454.167,152.109,465.333,152.109,470.917L152.109,476.5" id="L_E3_E4_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E3_E4_0" data-points="W3sieCI6MjE2LjQwNzM5ODg5NzA1ODg0LCJ5Ijo0MDUuNX0seyJ4IjoxNTIuMTA5Mzc1LCJ5Ijo0NDN9LHsieCI6MTUyLjEwOTM3NSwieSI6NDgwLjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M341.144,405.5L350.418,411.75C359.691,418,378.238,430.5,387.512,442.333C396.785,454.167,396.785,465.333,396.785,470.917L396.785,476.5" id="L_E3_E5_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E3_E5_0" data-points="W3sieCI6MzQxLjE0NDA3MTY5MTE3NjQ2LCJ5Ijo0MDUuNX0seyJ4IjozOTYuNzg1MTU2MjUsInkiOjQ0M30seyJ4IjozOTYuNzg1MTU2MjUsInkiOjQ4MC41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M396.785,534.5L396.785,540.75C396.785,547,396.785,559.5,396.785,571.333C396.785,583.167,396.785,594.333,396.785,599.917L396.785,605.5" id="L_E5_E6_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E5_E6_0" data-points="W3sieCI6Mzk2Ljc4NTE1NjI1LCJ5Ijo1MzQuNX0seyJ4IjozOTYuNzg1MTU2MjUsInkiOjU3Mn0seyJ4IjozOTYuNzg1MTU2MjUsInkiOjYwOS41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M341.796,663.5L329.067,669.75C316.338,676,290.88,688.5,278.151,700.333C265.422,712.167,265.422,723.333,265.422,728.917L265.422,734.5" id="L_E6_E7_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E6_E7_0" data-points="W3sieCI6MzQxLjc5NTg3NTcyNjc0NDE2LCJ5Ijo2NjMuNX0seyJ4IjoyNjUuNDIxODc1LCJ5Ijo3MDF9LHsieCI6MjY1LjQyMTg3NSwieSI6NzM4LjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M451.774,663.5L464.503,669.75C477.232,676,502.69,688.5,515.419,700.333C528.148,712.167,528.148,723.333,528.148,728.917L528.148,734.5" id="L_E6_E8_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E6_E8_0" data-points="W3sieCI6NDUxLjc3NDQzNjc3MzI1NTg0LCJ5Ijo2NjMuNX0seyJ4Ijo1MjguMTQ4NDM3NSwieSI6NzAxfSx7IngiOjUyOC4xNDg0Mzc1LCJ5Ijo3MzguNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M265.422,816.5L265.422,822.75C265.422,829,265.422,841.5,277.552,853.706C289.683,865.912,313.944,877.825,326.075,883.781L338.205,889.737" id="L_E7_E9_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E7_E9_0" data-points="W3sieCI6MjY1LjQyMTg3NSwieSI6ODE2LjV9LHsieCI6MjY1LjQyMTg3NSwieSI6ODU0fSx7IngiOjM0MS43OTU4NzU3MjY3NDQxNiwieSI6ODkxLjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M528.148,816.5L528.148,822.75C528.148,829,528.148,841.5,516.018,853.706C503.887,865.912,479.626,877.825,467.496,883.781L455.365,889.737" id="L_E8_E9_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E8_E9_0" data-points="W3sieCI6NTI4LjE0ODQzNzUsInkiOjgxNi41fSx7IngiOjUyOC4xNDg0Mzc1LCJ5Ijo4NTR9LHsieCI6NDUxLjc3NDQzNjc3MzI1NTg0LCJ5Ijo4OTEuNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M396.785,945.5L396.785,951.75C396.785,958,396.785,970.5,396.785,982.333C396.785,994.167,396.785,1005.333,396.785,1010.917L396.785,1016.5" id="L_E9_ECProblems_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E9_ECProblems_0" data-points="W3sieCI6Mzk2Ljc4NTE1NjI1LCJ5Ijo5NDUuNX0seyJ4IjozOTYuNzg1MTU2MjUsInkiOjk4M30seyJ4IjozOTYuNzg1MTU2MjUsInkiOjEwMjAuNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_E1_E2_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_E2_E3_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_E3_E4_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_E3_E5_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_E5_E6_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_E6_E7_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_E6_E8_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_E7_E9_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_E8_E9_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_E9_ECProblems_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-E1-62" transform="translate(283.27734375, 72.5)"><rect class="basic label-container" style="" x="-92.546875" y="-27" width="185.09375" height="54"/><g class="label" style="" transform="translate(-62.546875, -12)"><rect/><foreignObject width="125.09375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Click event in list</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-E2-63" transform="translate(283.27734375, 213.5)"><rect class="basic label-container" style="" x="-93.453125" y="-39" width="186.90625" height="78"/><g class="label" style="" transform="translate(-63.453125, -24)"><rect/><foreignObject width="126.90625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>onEventSelect(id)<br />(callback prop)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-E3-64" transform="translate(283.27734375, 366.5)"><rect class="basic label-container" style="" x="-106.7578125" y="-39" width="213.515625" height="78"/><g class="label" style="" transform="translate(-76.7578125, -24)"><rect/><foreignObject width="153.515625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>handleEventSelect()<br />(in useAppController)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-E4-65" transform="translate(152.109375, 507.5)"><rect class="basic label-container" style="" x="-109.109375" y="-27" width="218.21875" height="54"/><g class="label" style="" transform="translate(-79.109375, -12)"><rect/><foreignObject width="158.21875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>setSelectedEventIdUrl</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-E5-66" transform="translate(396.78515625, 507.5)"><rect class="basic label-container" style="" x="-67.90625" y="-27" width="135.8125" height="54"/><g class="label" style="" transform="translate(-37.90625, -12)"><rect/><foreignObject width="75.8125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Find event</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-E6-67" transform="translate(396.78515625, 636.5)"><rect class="basic label-container" style="" x="-79.8046875" y="-27" width="159.609375" height="54"/><g class="label" style="" transform="translate(-49.8046875, -12)"><rect/><foreignObject width="99.609375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>genMarkerId()</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-E7-68" transform="translate(265.421875, 777.5)"><rect class="basic label-container" style="" x="-108.71875" y="-39" width="217.4375" height="78"/><g class="label" style="" transform="translate(-78.71875, -24)"><rect/><foreignObject width="157.4375" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>setSelectedMarkerId()<br />(callback to useMap)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-E8-69" transform="translate(528.1484375, 777.5)"><rect class="basic label-container" style="" x="-104.0078125" y="-39" width="208.015625" height="78"/><g class="label" style="" transform="translate(-74.0078125, -24)"><rect/><foreignObject width="148.015625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>setViewport()<br />(callback to useMap)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-E9-70" transform="translate(396.78515625, 918.5)"><rect class="basic label-container" style="" x="-65.40625" y="-27" width="130.8125" height="54"/><g class="label" style="" transform="translate(-35.40625, -12)"><rect/><foreignObject width="70.8125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Re-render</p></span></div></foreignObject></g></g><g class="node default problem" id="flowchart-ECProblems-88" transform="translate(396.78515625, 1095.5)"><rect class="basic label-container" style="fill:#ffcccc !important;stroke:#cc0000 !important;stroke-width:2px !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>PROBLEMS:<br />• 2 separate callbacks<br />• Duplicated in handleMarkerClick<br />• Logic split across files</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(227.58984375, 2395)"><g class="clusters"><g class="cluster" id="ProposedFlow" data-look="classic"><rect style="" x="8" y="8" width="330" height="1449"/><g class="cluster-label" transform="translate(73, 8)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>✅ PROPOSED: User Pans Map</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M173,99.5L173,105.75C173,112,173,124.5,173,136.333C173,148.167,173,159.333,173,164.917L173,170.5" id="L_P1_P2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P1_P2_0" data-points="W3sieCI6MTczLCJ5Ijo5OS41fSx7IngiOjE3MywieSI6MTM3fSx7IngiOjE3MywieSI6MTc0LjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M173,228.5L173,234.75C173,241,173,253.5,173,265.333C173,277.167,173,288.333,173,293.917L173,299.5" id="L_P2_P3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P2_P3_0" data-points="W3sieCI6MTczLCJ5IjoyMjguNX0seyJ4IjoxNzMsInkiOjI2Nn0seyJ4IjoxNzMsInkiOjMwMy41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M173,381.5L173,387.75C173,394,173,406.5,173,418.333C173,430.167,173,441.333,173,446.917L173,452.5" id="L_P3_P4_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P3_P4_0" data-points="W3sieCI6MTczLCJ5IjozODEuNX0seyJ4IjoxNzMsInkiOjQxOX0seyJ4IjoxNzMsInkiOjQ1Ni41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M173,534.5L173,540.75C173,547,173,559.5,173,571.333C173,583.167,173,594.333,173,599.917L173,605.5" id="L_P4_P5_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P4_P5_0" data-points="W3sieCI6MTczLCJ5Ijo1MzQuNX0seyJ4IjoxNzMsInkiOjU3Mn0seyJ4IjoxNzMsInkiOjYwOS41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M173,687.5L173,693.75C173,700,173,712.5,173,724.333C173,736.167,173,747.333,173,752.917L173,758.5" id="L_P5_P6_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P5_P6_0" data-points="W3sieCI6MTczLCJ5Ijo2ODcuNX0seyJ4IjoxNzMsInkiOjcyNX0seyJ4IjoxNzMsInkiOjc2Mi41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M173,840.5L173,846.75C173,853,173,865.5,173,877.333C173,889.167,173,900.333,173,905.917L173,911.5" id="L_P6_P7_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P6_P7_0" data-points="W3sieCI6MTczLCJ5Ijo4NDAuNX0seyJ4IjoxNzMsInkiOjg3OH0seyJ4IjoxNzMsInkiOjkxNS41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M173,993.5L173,999.75C173,1006,173,1018.5,173,1030.333C173,1042.167,173,1053.333,173,1058.917L173,1064.5" id="L_P7_P8_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P7_P8_0" data-points="W3sieCI6MTczLCJ5Ijo5OTMuNX0seyJ4IjoxNzMsInkiOjEwMzF9LHsieCI6MTczLCJ5IjoxMDY4LjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M173,1122.5L173,1128.75C173,1135,173,1147.5,173,1159.333C173,1171.167,173,1182.333,173,1187.917L173,1193.5" id="L_P8_PBenefits_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P8_PBenefits_0" data-points="W3sieCI6MTczLCJ5IjoxMTIyLjV9LHsieCI6MTczLCJ5IjoxMTYwfSx7IngiOjE3MywieSI6MTE5Ny41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_P1_P2_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_P2_P3_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_P3_P4_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_P4_P5_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_P5_P6_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_P6_P7_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_P7_P8_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_P8_PBenefits_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-P1-38" transform="translate(173, 72.5)"><rect class="basic label-container" style="" x="-82.2890625" y="-27" width="164.578125" height="54"/><g class="label" style="" transform="translate(-52.2890625, -12)"><rect/><foreignObject width="104.578125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>User pans map</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-P2-39" transform="translate(173, 201.5)"><rect class="basic label-container" style="" x="-91.921875" y="-27" width="183.84375" height="54"/><g class="label" style="" transform="translate(-61.921875, -12)"><rect/><foreignObject width="123.84375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>MapLibre onMove</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-P3-40" transform="translate(173, 342.5)"><rect class="basic label-container" style="" x="-101.046875" y="-39" width="202.09375" height="78"/><g class="label" style="" transform="translate(-71.046875, -24)"><rect/><foreignObject width="142.09375" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>setViewport()<br />(update local state)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-P4-41" transform="translate(173, 495.5)"><rect class="basic label-container" style="" x="-101.5703125" y="-39" width="203.140625" height="78"/><g class="label" style="" transform="translate(-71.5703125, -24)"><rect/><foreignObject width="143.140625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>useMapSync detects<br />viewport change</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-P5-42" transform="translate(173, 648.5)"><rect class="basic label-container" style="" x="-104.34375" y="-39" width="208.6875" height="78"/><g class="label" style="" transform="translate(-74.34375, -24)"><rect/><foreignObject width="148.6875" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>calculateBounds()<br />(synchronous derive)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-P6-43" transform="translate(173, 801.5)"><rect class="basic label-container" style="" x="-101.046875" y="-39" width="202.09375" height="78"/><g class="label" style="" transform="translate(-71.046875, -24)"><rect/><foreignObject width="142.09375" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>setBounds()<br />(update local state)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-P7-44" transform="translate(173, 954.5)"><rect class="basic label-container" style="" x="-93.3828125" y="-39" width="186.765625" height="78"/><g class="label" style="" transform="translate(-63.3828125, -24)"><rect/><foreignObject width="126.765625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>useEffect triggers<br />filter update</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-P8-45" transform="translate(173, 1095.5)"><rect class="basic label-container" style="" x="-103.1875" y="-27" width="206.375" height="54"/><g class="label" style="" transform="translate(-73.1875, -12)"><rect/><foreignObject width="146.375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Re-render map + list</p></span></div></foreignObject></g></g><g class="node default benefit" id="flowchart-PBenefits-59" transform="translate(173, 1308.5)"><rect class="basic label-container" style="fill:#ccffcc !important;stroke:#00cc00 !important;stroke-width:2px !important" x="-130" y="-111" width="260" height="222"/><g class="label" style="" transform="translate(-100, -96)"><rect/><foreignObject width="200" height="192"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>BENEFITS:<br />• 7 function calls (30% fewer)<br />• 0 callbacks to parent<br />• Synchronous (no race conditions)<br />• Easy to debug (linear flow)</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(0, 3894)"><g class="clusters"><g class="cluster" id="CurrentFlow" data-look="classic"><rect style="" x="8" y="8" width="785.1796875" height="1578"/><g class="cluster-label" transform="translate(300.58984375, 8)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>❌ CURRENT: User Pans Map</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M317.328,99.5L317.328,105.75C317.328,112,317.328,124.5,317.328,136.333C317.328,148.167,317.328,159.333,317.328,164.917L317.328,170.5" id="L_C1_C2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C1_C2_0" data-points="W3sieCI6MzE3LjMyODEyNSwieSI6OTkuNX0seyJ4IjozMTcuMzI4MTI1LCJ5IjoxMzd9LHsieCI6MzE3LjMyODEyNSwieSI6MTc0LjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M317.328,228.5L317.328,234.75C317.328,241,317.328,253.5,317.328,265.333C317.328,277.167,317.328,288.333,317.328,293.917L317.328,299.5" id="L_C2_C3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C2_C3_0" data-points="W3sieCI6MzE3LjMyODEyNSwieSI6MjI4LjV9LHsieCI6MzE3LjMyODEyNSwieSI6MjY2fSx7IngiOjMxNy4zMjgxMjUsInkiOjMwMy41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M252.585,357.5L237.598,363.75C222.611,370,192.638,382.5,177.651,394.333C162.664,406.167,162.664,417.333,162.664,422.917L162.664,428.5" id="L_C3_C4a_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C3_C4a_0" data-points="W3sieCI6MjUyLjU4NTAyOTA2OTc2NzQ0LCJ5IjozNTcuNX0seyJ4IjoxNjIuNjY0MDYyNSwieSI6Mzk1fSx7IngiOjE2Mi42NjQwNjI1LCJ5Ijo0MzIuNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M317.328,357.5L317.328,363.75C317.328,370,317.328,382.5,317.328,401.5C317.328,420.5,317.328,446,317.328,473.5C317.328,501,317.328,530.5,317.328,560C317.328,589.5,317.328,619,317.328,646.5C317.328,674,317.328,699.5,317.328,725C317.328,750.5,317.328,776,317.328,801.5C317.328,827,317.328,852.5,317.328,870.833C317.328,889.167,317.328,900.333,317.328,905.917L317.328,911.5" id="L_C3_C4b_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C3_C4b_0" data-points="W3sieCI6MzE3LjMyODEyNSwieSI6MzU3LjV9LHsieCI6MzE3LjMyODEyNSwieSI6Mzk1fSx7IngiOjMxNy4zMjgxMjUsInkiOjQ3MS41fSx7IngiOjMxNy4zMjgxMjUsInkiOjU2MH0seyJ4IjozMTcuMzI4MTI1LCJ5Ijo2NDguNX0seyJ4IjozMTcuMzI4MTI1LCJ5Ijo3MjV9LHsieCI6MzE3LjMyODEyNSwieSI6ODAxLjV9LHsieCI6MzE3LjMyODEyNSwieSI6ODc4fSx7IngiOjMxNy4zMjgxMjUsInkiOjkxNS41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M429.75,354.588L461.185,361.323C492.62,368.059,555.49,381.529,586.924,393.848C618.359,406.167,618.359,417.333,618.359,422.917L618.359,428.5" id="L_C3_C4c_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C3_C4c_0" data-points="W3sieCI6NDI5Ljc1LCJ5IjozNTQuNTg3OTAwOTY1NDMxMzR9LHsieCI6NjE4LjM1OTM3NSwieSI6Mzk1fSx7IngiOjYxOC4zNTkzNzUsInkiOjQzMi41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M317.328,993.5L317.328,999.75C317.328,1006,317.328,1018.5,317.328,1030.333C317.328,1042.167,317.328,1053.333,317.328,1058.917L317.328,1064.5" id="L_C4b_C5_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C4b_C5_0" data-points="W3sieCI6MzE3LjMyODEyNSwieSI6OTkzLjV9LHsieCI6MzE3LjMyODEyNSwieSI6MTAzMX0seyJ4IjozMTcuMzI4MTI1LCJ5IjoxMDY4LjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M317.328,1146.5L317.328,1152.75C317.328,1159,317.328,1171.5,331.3,1183.737C345.272,1195.975,373.216,1207.95,387.188,1213.937L401.161,1219.924" id="L_C5_C10_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C5_C10_0" data-points="W3sieCI6MzE3LjMyODEyNSwieSI6MTE0Ni41fSx7IngiOjMxNy4zMjgxMjUsInkiOjExODR9LHsieCI6NDA0LjgzNzIwOTMwMjMyNTU2LCJ5IjoxMjIxLjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M618.359,510.5L618.359,518.75C618.359,527,618.359,543.5,618.359,559.333C618.359,575.167,618.359,590.333,618.359,597.917L618.359,605.5" id="L_C4c_C6_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C4c_C6_0" data-points="W3sieCI6NjE4LjM1OTM3NSwieSI6NTEwLjV9LHsieCI6NjE4LjM1OTM3NSwieSI6NTYwfSx7IngiOjYxOC4zNTkzNzUsInkiOjYwOS41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M618.359,687.5L618.359,693.75C618.359,700,618.359,712.5,618.359,724.333C618.359,736.167,618.359,747.333,618.359,752.917L618.359,758.5" id="L_C6_C7_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C6_C7_0" data-points="W3sieCI6NjE4LjM1OTM3NSwieSI6Njg3LjV9LHsieCI6NjE4LjM1OTM3NSwieSI6NzI1fSx7IngiOjYxOC4zNTkzNzUsInkiOjc2Mi41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M618.359,840.5L618.359,846.75C618.359,853,618.359,865.5,618.359,877.333C618.359,889.167,618.359,900.333,618.359,905.917L618.359,911.5" id="L_C7_C8_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C7_C8_0" data-points="W3sieCI6NjE4LjM1OTM3NSwieSI6ODQwLjV9LHsieCI6NjE4LjM1OTM3NSwieSI6ODc4fSx7IngiOjYxOC4zNTkzNzUsInkiOjkxNS41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M618.359,993.5L618.359,999.75C618.359,1006,618.359,1018.5,618.359,1032.333C618.359,1046.167,618.359,1061.333,618.359,1068.917L618.359,1076.5" id="L_C8_C9_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C8_C9_0" data-points="W3sieCI6NjE4LjM1OTM3NSwieSI6OTkzLjV9LHsieCI6NjE4LjM1OTM3NSwieSI6MTAzMX0seyJ4Ijo2MTguMzU5Mzc1LCJ5IjoxMDgwLjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M618.359,1134.5L618.359,1142.75C618.359,1151,618.359,1167.5,604.387,1181.737C590.415,1195.975,562.471,1207.95,548.499,1213.937L534.527,1219.924" id="L_C9_C10_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C9_C10_0" data-points="W3sieCI6NjE4LjM1OTM3NSwieSI6MTEzNC41fSx7IngiOjYxOC4zNTkzNzUsInkiOjExODR9LHsieCI6NTMwLjg1MDI5MDY5NzY3NDQsInkiOjEyMjEuNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M467.844,1275.5L467.844,1281.75C467.844,1288,467.844,1300.5,467.844,1312.333C467.844,1324.167,467.844,1335.333,467.844,1340.917L467.844,1346.5" id="L_C10_CProblems_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C10_CProblems_0" data-points="W3sieCI6NDY3Ljg0Mzc1LCJ5IjoxMjc1LjV9LHsieCI6NDY3Ljg0Mzc1LCJ5IjoxMzEzfSx7IngiOjQ2Ny44NDM3NSwieSI6MTM1MC41fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_C1_C2_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_C2_C3_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_C3_C4a_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_C3_C4b_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_C3_C4c_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_C4b_C5_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_C5_C10_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(618.359375, 560)"><g class="label" data-id="L_C4c_C6_0" transform="translate(-47.1015625, -12)"><foreignObject width="94.203125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>ASYNC DELAY</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_C6_C7_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_C7_C8_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_C8_C9_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_C9_C10_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_C10_CProblems_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-C1-0" transform="translate(317.328125, 72.5)"><rect class="basic label-container" style="" x="-82.2890625" y="-27" width="164.578125" height="54"/><g class="label" style="" transform="translate(-52.2890625, -12)"><rect/><foreignObject width="104.578125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>User pans map</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-C2-1" transform="translate(317.328125, 201.5)"><rect class="basic label-container" style="" x="-91.921875" y="-27" width="183.84375" height="54"/><g class="label" style="" transform="translate(-61.921875, -12)"><rect/><foreignObject width="123.84375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>MapLibre onMove</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-C3-2" transform="translate(317.328125, 330.5)"><rect class="basic label-container" style="" x="-112.421875" y="-27" width="224.84375" height="54"/><g class="label" style="" transform="translate(-82.421875, -12)"><rect/><foreignObject width="164.84375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>handleViewportChange</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-C4a-3" transform="translate(162.6640625, 471.5)"><rect class="basic label-container" style="" x="-119.6640625" y="-39" width="239.328125" height="78"/><g class="label" style="" transform="translate(-89.6640625, -24)"><rect/><foreignObject width="179.328125" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>updateMapWidthHeight()<br />(check dimensions)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-C4b-4" transform="translate(317.328125, 954.5)"><rect class="basic label-container" style="" x="-111.2109375" y="-39" width="222.421875" height="78"/><g class="label" style="" transform="translate(-81.2109375, -24)"><rect/><foreignObject width="162.421875" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>onViewportChange(vp)<br />(callback to parent)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-C4c-5" transform="translate(618.359375, 471.5)"><rect class="basic label-container" style="" x="-126.0703125" y="-39" width="252.140625" height="78"/><g class="label" style="" transform="translate(-96.0703125, -24)"><rect/><foreignObject width="192.140625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>debouncedUpdateBounds()<br />(500ms delay)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-C5-6" transform="translate(317.328125, 1107.5)"><rect class="basic label-container" style="" x="-78.8359375" y="-39" width="157.671875" height="78"/><g class="label" style="" transform="translate(-48.8359375, -24)"><rect/><foreignObject width="97.671875" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>setViewport()<br />(in useMap)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-C10-11" transform="translate(467.84375, 1248.5)"><rect class="basic label-container" style="" x="-103.1875" y="-27" width="206.375" height="54"/><g class="label" style="" transform="translate(-73.1875, -12)"><rect/><foreignObject width="146.375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Re-render map + list</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-C6-7" transform="translate(618.359375, 648.5)"><rect class="basic label-container" style="" x="-87.0234375" y="-39" width="174.046875" height="78"/><g class="label" style="" transform="translate(-57.0234375, -24)"><rect/><foreignObject width="114.046875" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>getMapBounds()<br />(after 500ms)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-C7-8" transform="translate(618.359375, 801.5)"><rect class="basic label-container" style="" x="-101.375" y="-39" width="202.75" height="78"/><g class="label" style="" transform="translate(-71.375, -24)"><rect/><foreignObject width="142.75" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>onBoundsChange()<br />(callback to parent)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-C8-9" transform="translate(618.359375, 954.5)"><rect class="basic label-container" style="" x="-139.8203125" y="-39" width="279.640625" height="78"/><g class="label" style="" transform="translate(-109.8203125, -24)"><rect/><foreignObject width="219.640625" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>handleBoundsChangeForFilters<br />(in useAppController)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-C9-10" transform="translate(618.359375, 1107.5)"><rect class="basic label-container" style="" x="-127.7734375" y="-27" width="255.546875" height="54"/><g class="label" style="" transform="translate(-97.7734375, -12)"><rect/><foreignObject width="195.546875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>filtrEvtMgr.filterByBounds()</p></span></div></foreignObject></g></g><g class="node default problem" id="flowchart-CProblems-35" transform="translate(467.84375, 1449.5)"><rect class="basic label-container" style="fill:#ffcccc !important;stroke:#cc0000 !important;stroke-width:2px !important" x="-130" y="-99" width="260" height="198"/><g class="label" style="" transform="translate(-100, -84)"><rect/><foreignObject width="200" height="168"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>PROBLEMS:<br />• 10 function calls<br />• 3 callbacks to parent<br />• Race condition (viewport updates before bounds)<br />• Hard to debug timing issues</p></span></div></foreignObject></g></g></g></g></g></g></g><text text-anchor="middle" x="400.58984375" y="-25" class="flowchartTitleText">DETAILED COMPARISON: Current vs Proposed Function Calls</text></svg>